{"ast":null,"code":"var _jsxFileName = \"G:\\\\Learning\\\\ltw\\\\SbTickets_FE\\\\src\\\\pages\\\\StatisticalCustomerBook\\\\StatisticalCustomerBook.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Table, TableRow, TableHead, TableBody, TableCell, Chip, Grid, FormControl, InputLabel, Select, MenuItem, TextField, Button, CircularProgress } from \"@material-ui/core\";\nimport PageTitle from \"../../components/PageTitle/PageTitle\";\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport * as AppURL from '../../services/urlAPI';\nimport instance from \"../../services\";\nimport Widget from \"../../components/Widget/Widget\";\nimport MUIDataTable from \"mui-datatables\";\nimport { toast } from \"react-toastify\";\nimport { MuiPickersUtilsProvider, DatePicker } from \"@material-ui/pickers\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { Image } from \"@material-ui/icons\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst states = {\n  sent: \"success\",\n  pending: \"warning\",\n  declined: \"secondary\"\n};\nconst useStyles = makeStyles(theme => ({\n  input: {\n    width: '80%',\n    fontSize: '14px !important',\n    marginBottom: '30px'\n  }\n}));\nexport default function StatisticalCustomerBook() {\n  _s();\n\n  //var keys = Object.keys(data[0]).map(i => i.toUpperCase());\n  //keys.shift(); // delete \"id\" key\n  const classes = useStyles();\n  const [listTripBus, setTripBus] = useState([]);\n  const [listData, setlistData] = useState([]);\n  const [timePicker, settimePicker] = useState(\"\");\n  const [selecteTripBus, setSelecteTripBus] = useState(\"\");\n  const [sumwages, setSumWages] = useState(0);\n  console.log(\"timePicker: \" + timePicker);\n  useEffect(() => {\n    let url = AppURL.getAllTripBus;\n    instance.get(url).then(res => {\n      //console.log(res);\n      if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n        const body = res === null || res === void 0 ? void 0 : res.body;\n        setTripBus(body.listTripBus);\n        console.log(JSON.stringify(listTripBus));\n      }\n    });\n  }, []);\n  const data = {\n    driverName: \"\",\n    tripBusId: \"\",\n    scrapDateTime: \"\",\n    roleCar: \"\",\n    wages: \"\",\n    fixedSalary: \"\"\n  };\n\n  const searchData = () => {\n    if (selecteTripBus.length == 0) {\n      toast.error(\"Please selectTripBus\");\n    } else {\n      let url = AppURL.getTripBusCustomer + '/' + selecteTripBus; //console.log(url);\n\n      instance.get(url).then(res => {\n        const data = res === null || res === void 0 ? void 0 : res.body.map(item => {\n          let labelitem = [];\n          labelitem.push(item === null || item === void 0 ? void 0 : item.fullName, item === null || item === void 0 ? void 0 : item.address, item === null || item === void 0 ? void 0 : item.birthday, item === null || item === void 0 ? void 0 : item.cmt, item === null || item === void 0 ? void 0 : item.bookseat);\n          return labelitem;\n        });\n\n        if (data) {\n          let sum = 0;\n          res === null || res === void 0 ? void 0 : res.body.forEach(element => {\n            console.log(\"element?.wages\" + element);\n            sum = sum + parseInt(element === null || element === void 0 ? void 0 : element.wages);\n            console.log(sum);\n          });\n          setSumWages(sum);\n        }\n\n        setlistData(data);\n      }).catch(error => {\n        toast.error(\"Not Found\");\n      });\n    }\n  };\n\n  console.log(\"listData: \" + JSON.stringify(listData));\n  return /*#__PURE__*/_jsxDEV(Grid, {\n    item: true,\n    xs: 12,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n          title: \"Booked ByCustomer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Widget, {\n          disableWidgetMenu: true,\n          children: /*#__PURE__*/_jsxDEV(Grid, {\n            container: true,\n            item: true,\n            xs: 12,\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 3,\n              children: [/*#__PURE__*/_jsxDEV(FormControl, {\n                className: \"MuiTextField-root makeStyles-input-79\",\n                style: {\n                  marginBottom: `30px`,\n                  width: `80%`\n                },\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  id: \"demo-simple-select-label\",\n                  children: \"LineTripBus\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 130,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Select, {\n                  labelId: \"demo-simple-select-label\",\n                  id: \"demo-simple-select\",\n                  label: \"LineTripBus\",\n                  name: \"driverId\" //value={selectedDriver}\n                  ,\n                  onChange: e => setSelecteTripBus(e.target.value),\n                  MenuProps: {\n                    anchorOrigin: {\n                      vertical: \"bottom\",\n                      horizontal: \"left\"\n                    },\n                    transformOrigin: {\n                      vertical: \"top\",\n                      horizontal: \"left\"\n                    },\n                    getContentAnchorEl: null\n                  } //disabled={!isEditing}\n                  ,\n                  children: listTripBus.length > 0 && listTripBus.map(e => {\n                    return /*#__PURE__*/_jsxDEV(MenuItem, {\n                      value: e.id,\n                      children: [e.lineBus.firstPoint.address, \" - \", e.lineBus.lastPoint.address, \" - \", e.id]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 36\n                    }, this);\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 129,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"MuiFormControl-root MuiTextField-root makeStyles-input-60\",\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: '../laixe.jpg',\n                  variant: \"outlined\",\n                  id: \"image\",\n                  width: \"200\",\n                  height: \"120\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 167,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Button, {\n                variant: \"contained\",\n                size: \"medium\",\n                color: \"primary\",\n                onClick: searchData,\n                style: {\n                  marginTop: `30px`,\n                  width: `80%`\n                },\n                children: \"Search BookedSeat\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              item: true,\n              xs: 9,\n              children: listData ? /*#__PURE__*/_jsxDEV(MUIDataTable, {\n                title: \"List Booked TripBus\",\n                data: listData,\n                columns: [\"CustomerName\", \"Address\", \"BirthDay\", \"NationId\", \"Bookseat\"]\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 34\n              }, this) : /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 28\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 120,\n    columnNumber: 5\n  }, this);\n}\n\n_s(StatisticalCustomerBook, \"sVu2bGtY2QGMAnQan092jgfM9fs=\", false, function () {\n  return [useStyles];\n});\n\n_c = StatisticalCustomerBook;\n\nvar _c;\n\n$RefreshReg$(_c, \"StatisticalCustomerBook\");","map":{"version":3,"sources":["G:/Learning/ltw/SbTickets_FE/src/pages/StatisticalCustomerBook/StatisticalCustomerBook.js"],"names":["React","useEffect","useState","Table","TableRow","TableHead","TableBody","TableCell","Chip","Grid","FormControl","InputLabel","Select","MenuItem","TextField","Button","CircularProgress","PageTitle","makeStyles","withStyles","AppURL","instance","Widget","MUIDataTable","toast","MuiPickersUtilsProvider","DatePicker","DateFnsUtils","Image","states","sent","pending","declined","useStyles","theme","input","width","fontSize","marginBottom","StatisticalCustomerBook","classes","listTripBus","setTripBus","listData","setlistData","timePicker","settimePicker","selecteTripBus","setSelecteTripBus","sumwages","setSumWages","console","log","url","getAllTripBus","get","then","res","status","body","JSON","stringify","data","driverName","tripBusId","scrapDateTime","roleCar","wages","fixedSalary","searchData","length","error","getTripBusCustomer","map","item","labelitem","push","fullName","address","birthday","cmt","bookseat","sum","forEach","element","parseInt","catch","e","target","value","anchorOrigin","vertical","horizontal","transformOrigin","getContentAnchorEl","id","lineBus","firstPoint","lastPoint","marginTop"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,SACEC,KADF,EAEEC,QAFF,EAGEC,SAHF,EAIEC,SAJF,EAKEC,SALF,EAMEC,IANF,EAOEC,IAPF,EAQEC,WARF,EASEC,UATF,EAUEC,MAVF,EAWEC,QAXF,EAYEC,SAZF,EAaEC,MAbF,EAcEC,gBAdF,QAeO,mBAfP;AAgBA,OAAOC,SAAP,MAAsB,sCAAtB;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,0BAAvC;AACA,OAAO,KAAKC,MAAZ,MAAwB,uBAAxB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,MAAP,MAAmB,gCAAnB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,SAASC,KAAT,QAAsB,gBAAtB;AACA,SAASC,uBAAT,EAAkCC,UAAlC,QAAoD,sBAApD;AACA,OAAOC,YAAP,MAAyB,mBAAzB;AACA,SAASC,KAAT,QAAsB,oBAAtB;;AACA,MAAMC,MAAM,GAAG;AACbC,EAAAA,IAAI,EAAE,SADO;AAEbC,EAAAA,OAAO,EAAE,SAFI;AAGbC,EAAAA,QAAQ,EAAE;AAHG,CAAf;AAOA,MAAMC,SAAS,GAAGf,UAAU,CAAEgB,KAAD,KAAY;AACvCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE,KADF;AAELC,IAAAA,QAAQ,EAAE,iBAFL;AAGLC,IAAAA,YAAY,EAAE;AAHT;AADgC,CAAZ,CAAD,CAA5B;AASA,eAAe,SAASC,uBAAT,GAAmC;AAAA;;AAChD;AACA;AACA,QAAMC,OAAO,GAAGP,SAAS,EAAzB;AACA,QAAM,CAACQ,WAAD,EAAcC,UAAd,IAA4BxC,QAAQ,CAAC,EAAD,CAA1C;AACA,QAAM,CAACyC,QAAD,EAAWC,WAAX,IAA0B1C,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAAC2C,UAAD,EAAaC,aAAb,IAA8B5C,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAAC6C,cAAD,EAAiBC,iBAAjB,IAAsC9C,QAAQ,CAAC,EAAD,CAApD;AACA,QAAM,CAAC+C,QAAD,EAAWC,WAAX,IAA0BhD,QAAQ,CAAC,CAAD,CAAxC;AACAiD,EAAAA,OAAO,CAACC,GAAR,CAAY,iBAAiBP,UAA7B;AACA5C,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIoD,GAAG,GAAGjC,MAAM,CAACkC,aAAjB;AACAjC,IAAAA,QAAQ,CAACkC,GAAT,CAAaF,GAAb,EACGG,IADH,CACQC,GAAG,IAAI;AACX;AACA,UAAI,CAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEC,MAAL,MAAgB,GAApB,EAAyB;AACvB,cAAMC,IAAI,GAAGF,GAAH,aAAGA,GAAH,uBAAGA,GAAG,CAAEE,IAAlB;AACAjB,QAAAA,UAAU,CAACiB,IAAI,CAAClB,WAAN,CAAV;AACAU,QAAAA,OAAO,CAACC,GAAR,CAAYQ,IAAI,CAACC,SAAL,CAAepB,WAAf,CAAZ;AACD;AACF,KARH;AASD,GAXQ,EAWN,EAXM,CAAT;AAaA,QAAMqB,IAAI,GAAG;AACXC,IAAAA,UAAU,EAAE,EADD;AAEXC,IAAAA,SAAS,EAAE,EAFA;AAGXC,IAAAA,aAAa,EAAE,EAHJ;AAIXC,IAAAA,OAAO,EAAE,EAJE;AAKXC,IAAAA,KAAK,EAAC,EALK;AAMXC,IAAAA,WAAW,EAAE;AANF,GAAb;;AAWA,QAAMC,UAAU,GAAG,MAAM;AACnB,QAAGtB,cAAc,CAACuB,MAAf,IAAyB,CAA5B,EAA8B;AAC5B9C,MAAAA,KAAK,CAAC+C,KAAN,CAAY,sBAAZ;AACD,KAFD,MAGI;AACF,UAAIlB,GAAG,GAAGjC,MAAM,CAACoD,kBAAP,GAA4B,GAA5B,GAAkCzB,cAA5C,CADE,CAER;;AACI1B,MAAAA,QAAQ,CAACkC,GAAT,CAAaF,GAAb,EACGG,IADH,CACQC,GAAG,IAAI;AAEX,cAAMK,IAAI,GAAGL,GAAH,aAAGA,GAAH,uBAAGA,GAAG,CAAEE,IAAL,CAAUc,GAAV,CAAcC,IAAI,IAAI;AACjC,cAAIC,SAAS,GAAG,EAAhB;AACAA,UAAAA,SAAS,CAACC,IAAV,CAAeF,IAAf,aAAeA,IAAf,uBAAeA,IAAI,CAAEG,QAArB,EAA+BH,IAA/B,aAA+BA,IAA/B,uBAA+BA,IAAI,CAAEI,OAArC,EAA6CJ,IAA7C,aAA6CA,IAA7C,uBAA6CA,IAAI,CAAEK,QAAnD,EAA6DL,IAA7D,aAA6DA,IAA7D,uBAA6DA,IAAI,CAAEM,GAAnE,EAAyEN,IAAzE,aAAyEA,IAAzE,uBAAyEA,IAAI,CAAEO,QAA/E;AACA,iBAAON,SAAP;AACD,SAJY,CAAb;;AAMA,YAAGb,IAAH,EAAQ;AACN,cAAIoB,GAAG,GAAG,CAAV;AACAzB,UAAAA,GAAG,SAAH,IAAAA,GAAG,WAAH,YAAAA,GAAG,CAAEE,IAAL,CAAUwB,OAAV,CAAkBC,OAAO,IAAI;AAC3BjC,YAAAA,OAAO,CAACC,GAAR,CAAY,mBAAmBgC,OAA/B;AACAF,YAAAA,GAAG,GAAGA,GAAG,GAAGG,QAAQ,CAACD,OAAD,aAACA,OAAD,uBAACA,OAAO,CAAEjB,KAAV,CAApB;AACAhB,YAAAA,OAAO,CAACC,GAAR,CAAY8B,GAAZ;AACD,WAJD;AAKAhC,UAAAA,WAAW,CAACgC,GAAD,CAAX;AACD;;AAGDtC,QAAAA,WAAW,CAACkB,IAAD,CAAX;AACD,OArBH,EAsBGwB,KAtBH,CAsBSf,KAAK,IAAI;AACd/C,QAAAA,KAAK,CAAC+C,KAAN,CAAY,WAAZ;AACD,OAxBH;AAyBC;AACN,GAjCD;;AAmCApB,EAAAA,OAAO,CAACC,GAAR,CAAY,eAAeQ,IAAI,CAACC,SAAL,CAAelB,QAAf,CAA3B;AAIA,sBAGE,QAAC,IAAD;AAAM,IAAA,IAAI,MAAV;AAAW,IAAA,EAAE,EAAE,EAAf;AAAA,2BACA,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,OAAO,EAAE,CAAzB;AAAA,6BACQ,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,gCACA,QAAC,SAAD;AACM,UAAA,KAAK,EAAC;AADZ;AAAA;AAAA;AAAA;AAAA,gBADA,eAIE,QAAC,MAAD;AAAQ,UAAA,iBAAiB,MAAzB;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,SAAS,MAAf;AAAgB,YAAA,IAAI,MAApB;AAAqB,YAAA,EAAE,EAAE,EAAzB;AAAA,oCACE,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,CAAf;AAAA,sCACA,QAAC,WAAD;AAAa,gBAAA,SAAS,EAAC,uCAAvB;AAA+D,gBAAA,KAAK,EAAE;AAAEL,kBAAAA,YAAY,EAAG,MAAjB;AAAuBF,kBAAAA,KAAK,EAAG;AAA/B,iBAAtE;AAAA,wCACE,QAAC,UAAD;AAAY,kBAAA,EAAE,EAAC,0BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAEE,QAAC,MAAD;AACE,kBAAA,OAAO,EAAC,0BADV;AAEE,kBAAA,EAAE,EAAC,oBAFL;AAGE,kBAAA,KAAK,EAAC,aAHR;AAIE,kBAAA,IAAI,EAAC,UAJP,CAKE;AALF;AAME,kBAAA,QAAQ,EAAGmD,CAAD,IAAOvC,iBAAiB,CAACuC,CAAC,CAACC,MAAF,CAASC,KAAV,CANpC;AAOE,kBAAA,SAAS,EAAE;AACTC,oBAAAA,YAAY,EAAE;AACZC,sBAAAA,QAAQ,EAAE,QADE;AAEZC,sBAAAA,UAAU,EAAE;AAFA,qBADL;AAKTC,oBAAAA,eAAe,EAAE;AACfF,sBAAAA,QAAQ,EAAE,KADK;AAEfC,sBAAAA,UAAU,EAAE;AAFG,qBALR;AASTE,oBAAAA,kBAAkB,EAAE;AATX,mBAPb,CAmBE;AAnBF;AAAA,4BAsBMrD,WAAW,CAAC6B,MAAZ,GAAqB,CAArB,IAA0B7B,WAAW,CAACgC,GAAZ,CAAiBc,CAAD,IAAO;AAC/C,wCAAO,QAAC,QAAD;AAAU,sBAAA,KAAK,EAAEA,CAAC,CAACQ,EAAnB;AAAA,iCAAwBR,CAAC,CAACS,OAAF,CAAUC,UAAV,CAAqBnB,OAA7C,SAAyDS,CAAC,CAACS,OAAF,CAAUE,SAAV,CAAoBpB,OAA7E,SAAyFS,CAAC,CAACQ,EAA3F;AAAA;AAAA;AAAA;AAAA;AAAA,4BAAP;AACD,mBAFyB;AAtBhC;AAAA;AAAA;AAAA;AAAA,wBAFF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADA,eAsCA;AAAK,gBAAA,SAAS,EAAC,2DAAf;AAAA,uCACM;AAAK,kBAAA,GAAG,EAAE,cAAV;AACI,kBAAA,OAAO,EAAC,UADZ;AAEI,kBAAA,EAAE,EAAC,OAFP;AAGI,kBAAA,KAAK,EAAC,KAHV;AAGgB,kBAAA,MAAM,EAAC;AAHvB;AAAA;AAAA;AAAA;AAAA;AADN;AAAA;AAAA;AAAA;AAAA,sBAtCA,eA8EA,QAAC,MAAD;AACE,gBAAA,OAAO,EAAC,WADV;AAEE,gBAAA,IAAI,EAAC,QAFP;AAGE,gBAAA,KAAK,EAAC,SAHR;AAIE,gBAAA,OAAO,EAAE1B,UAJX;AAKE,gBAAA,KAAK,EAAE;AAAE8B,kBAAAA,SAAS,EAAG,MAAd;AAAoB/D,kBAAAA,KAAK,EAAG;AAA5B,iBALT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBA9EA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eA0FE,QAAC,IAAD;AAAM,cAAA,IAAI,MAAV;AAAW,cAAA,EAAE,EAAE,CAAf;AAAA,wBAGIO,QAAQ,gBAAG,QAAC,YAAD;AACT,gBAAA,KAAK,EAAC,qBADG;AAET,gBAAA,IAAI,EAAEA,QAFG;AAGT,gBAAA,OAAO,EAAE,CAAE,cAAF,EAAkB,SAAlB,EAA8B,UAA9B,EAA0C,UAA1C,EAAsD,UAAtD;AAHA;AAAA;AAAA;AAAA;AAAA,sBAAH,gBAIH,QAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAPT;AAAA;AAAA;AAAA;AAAA,oBA1FF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,gBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADR;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,UAHF;AAuID;;GAhNuBJ,uB;UAGNN,S;;;KAHMM,uB","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Table,\r\n  TableRow,\r\n  TableHead,\r\n  TableBody,\r\n  TableCell,\r\n  Chip,\r\n  Grid,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  TextField,\r\n  Button,\r\n  CircularProgress\r\n} from \"@material-ui/core\";\r\nimport PageTitle from \"../../components/PageTitle/PageTitle\";\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport * as AppURL from '../../services/urlAPI'\r\nimport instance from \"../../services\";\r\nimport Widget from \"../../components/Widget/Widget\";\r\nimport MUIDataTable from \"mui-datatables\";\r\nimport { toast } from \"react-toastify\";\r\nimport { MuiPickersUtilsProvider, DatePicker } from \"@material-ui/pickers\";\r\nimport DateFnsUtils from \"@date-io/date-fns\";\r\nimport { Image } from \"@material-ui/icons\";\r\nconst states = {\r\n  sent: \"success\",\r\n  pending: \"warning\",\r\n  declined: \"secondary\",\r\n};\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input: {\r\n    width: '80%',\r\n    fontSize: '14px !important',\r\n    marginBottom: '30px'\r\n  },\r\n}));\r\n\r\n\r\nexport default function StatisticalCustomerBook() {\r\n  //var keys = Object.keys(data[0]).map(i => i.toUpperCase());\r\n  //keys.shift(); // delete \"id\" key\r\n  const classes = useStyles();\r\n  const [listTripBus, setTripBus] = useState([]);\r\n  const [listData, setlistData] = useState([]);\r\n  const [timePicker, settimePicker] = useState(\"\");\r\n  const [selecteTripBus, setSelecteTripBus] = useState(\"\");\r\n  const [sumwages, setSumWages] = useState(0);\r\n  console.log(\"timePicker: \" + timePicker);\r\n  useEffect(() => {\r\n    let url = AppURL.getAllTripBus;\r\n    instance.get(url)\r\n      .then(res => {\r\n        //console.log(res);\r\n        if (res?.status === 200) {\r\n          const body = res?.body;\r\n          setTripBus(body.listTripBus);\r\n          console.log(JSON.stringify(listTripBus));\r\n        }\r\n      })\r\n  }, []);\r\n\r\n  const data = {\r\n    driverName: \"\",\r\n    tripBusId: \"\",\r\n    scrapDateTime: \"\",\r\n    roleCar: \"\",\r\n    wages:\"\",\r\n    fixedSalary: \"\",\r\n  };\r\n\r\n  \r\n  \r\n  const searchData = () => {\r\n        if(selecteTripBus.length == 0){\r\n          toast.error(\"Please selectTripBus\");\r\n        }\r\n        else{\r\n          let url = AppURL.getTripBusCustomer + '/' + selecteTripBus;\r\n    //console.log(url);\r\n        instance.get(url)\r\n          .then(res => {\r\n\r\n            const data = res?.body.map(item => {\r\n              let labelitem = [];\r\n              labelitem.push(item?.fullName, item?.address,item?.birthday, item?.cmt,  item?.bookseat);\r\n              return labelitem;\r\n            })\r\n\r\n            if(data){\r\n              let sum = 0;\r\n              res?.body.forEach(element => {\r\n                console.log(\"element?.wages\" + element);\r\n                sum = sum + parseInt(element?.wages);\r\n                console.log(sum);\r\n              });\r\n              setSumWages(sum);\r\n            }\r\n\r\n\r\n            setlistData(data);\r\n          })\r\n          .catch(error => {\r\n            toast.error(\"Not Found\");\r\n          })\r\n        }\r\n  }\r\n\r\n  console.log(\"listData: \" + JSON.stringify(listData));\r\n\r\n\r\n  \r\n  return (\r\n    \r\n    \r\n    <Grid item xs={12}>\r\n    <Grid container spacing={4}>\r\n            <Grid item xs={12}>\r\n            <PageTitle\r\n                  title=\"Booked ByCustomer\"\r\n                 />\r\n              <Widget disableWidgetMenu>\r\n                <Grid container item xs={12}>\r\n                  <Grid item xs={3}>\r\n                  <FormControl className=\"MuiTextField-root makeStyles-input-79\" style={{ marginBottom: `30px`,width: `80%`}}>\r\n                    <InputLabel id=\"demo-simple-select-label\">LineTripBus</InputLabel>\r\n                    <Select\r\n                      labelId=\"demo-simple-select-label\"\r\n                      id=\"demo-simple-select\"\r\n                      label=\"LineTripBus\"\r\n                      name=\"driverId\"\r\n                      //value={selectedDriver}\r\n                      onChange={(e) => setSelecteTripBus(e.target.value)}\r\n                      MenuProps={{\r\n                        anchorOrigin: {\r\n                          vertical: \"bottom\",\r\n                          horizontal: \"left\"\r\n                        },\r\n                        transformOrigin: {\r\n                          vertical: \"top\",\r\n                          horizontal: \"left\"\r\n                        },\r\n                        getContentAnchorEl: null\r\n                      }}\r\n\r\n                      //disabled={!isEditing}\r\n                    >\r\n                      {\r\n                          listTripBus.length > 0 && listTripBus.map((e) => {\r\n                            return <MenuItem value={e.id}>{e.lineBus.firstPoint.address} - {e.lineBus.lastPoint.address} - {e.id}</MenuItem>\r\n                          })\r\n                      }\r\n                      {/* <MenuItem value={10}>Ten</MenuItem>\r\n                      <MenuItem value={20}>Twenty</MenuItem>\r\n                      <MenuItem value={30}>Thirty</MenuItem> */}\r\n                    </Select>\r\n                    \r\n                   \r\n\r\n                  </FormControl>\r\n                  \r\n                  <div className=\"MuiFormControl-root MuiTextField-root makeStyles-input-60\">\r\n                        <img src={'../laixe.jpg'}\r\n                            variant=\"outlined\"\r\n                            id=\"image\" \r\n                            width=\"200\" height=\"120\" />\r\n                      </div>\r\n\r\n                  {/* <MuiPickersUtilsProvider utils={DateFnsUtils} style={{ marginBottom: `30px`,width: `80%`}}>\r\n                      <Grid container justify=\"flex-start\">\r\n                          <DatePicker\r\n                            variant=\"inline\"\r\n                            openTo=\"year\"\r\n                            views={[\"year\", \"month\"]}\r\n                            label=\"Year and Month\"\r\n                            helperText=\"Start from year selection\"\r\n                            value={timePicker}\r\n                            onChange={(e) => {\r\n                              //console.log(e.target.value);\r\n                              settimePicker(e.getFullYear() + \"-\" +e.getMonth());\r\n                            }}\r\n                          />\r\n                      </Grid>\r\n                    </MuiPickersUtilsProvider> */}\r\n                  {/* <TextField\r\n                      id=\"dob\"\r\n                      //label=\"Date of Birth\"\r\n                      type=\"date\"\r\n                      //value={new Date(new Date(formValues?.dob).getTime() - new Date(formValues?.dob).getTimezoneOffset() * 60 * 1000)}\r\n                      sx={{ width: 220 }}\r\n                      \r\n                      //type=\"variant\"\r\n                      variant=\"filled\"\r\n                      className={classes.input}\r\n                      onChange={(e) => {\r\n                        console.log(e.target.value);\r\n                        settimePicker(e.target.value)\r\n                      }}\r\n                      variant=\"outlined\"\r\n                    /> */}\r\n\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    size=\"medium\"\r\n                    color=\"primary\"\r\n                    onClick={searchData}\r\n                    style={{ marginTop: `30px`,width: `80%`}}\r\n                  >\r\n                     Search BookedSeat\r\n                    </Button>\r\n                \r\n                  </Grid>\r\n                  <Grid item xs={9}>\r\n\r\n                            {\r\n                      listData ? <MUIDataTable\r\n                        title=\"List Booked TripBus\"\r\n                        data={listData}\r\n                        columns={[ \"CustomerName\", \"Address\" , \"BirthDay\", \"NationId\", \"Bookseat\"]}\r\n                      /> : <CircularProgress />\r\n                    }\r\n\r\n                    {/* <Grid container item xs={12} style={{ marginTop: `30px`,}}>\r\n                    <Grid item xs={9}></Grid>\r\n                    <Grid item xs={3}>\r\n                      <TextField\r\n                        id=\"dob\"\r\n                        label=\"SumWages\"\r\n                        type=\"text\"\r\n                        value={sumwages}\r\n                        sx={{ width: 200 }}\r\n                        \r\n                        //type=\"variant\"\r\n                        className={classes.input}\r\n                        variant=\"outlined\"\r\n                        disabled={true}\r\n                      />\r\n                    </Grid>\r\n                    </Grid> */}\r\n\r\n                  </Grid>\r\n                </Grid>\r\n                </Widget>\r\n            </Grid>\r\n     </Grid>\r\n     </Grid>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}