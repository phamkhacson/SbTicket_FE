{"ast":null,"code":"var _jsxFileName = \"G:\\\\Learning\\\\ltw\\\\SbTickets_FE\\\\src\\\\pages\\\\Drivers\\\\DriverDetail.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Grid, TextField, CircularProgress, Button as MUIButton } from \"@material-ui/core\";\nimport Widget from \"../../components/Widget/Widget\";\nimport PageTitle from \"../../components/PageTitle/PageTitle\";\nimport { Typography, Button } from \"../../components/Wrappers/Wrappers\";\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\nimport instance from '../../services';\nimport { useParams } from 'react-router-dom';\nimport * as AppURL from '../../services/urlAPI';\nimport { useHistory } from \"react-router-dom\";\nimport { toast } from \"react-toastify\";\nimport * as Utils from \"../../utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  input: {\n    width: '80%',\n    fontSize: '14px !important',\n    marginBottom: '30px'\n  }\n}));\n\nfunction DriverDetail() {\n  _s();\n\n  let history = useHistory();\n  const classes = useStyles();\n  const {\n    id\n  } = useParams();\n  const [formValues, setFormValues] = useState(null);\n  const [isEditing, setIsEditing] = useState(false);\n  useEffect(() => {\n    let url = AppURL.getDriver + '/' + id;\n    instance.get(url).then(res => {\n      if ((res === null || res === void 0 ? void 0 : res.status) === 200) {\n        const body = res === null || res === void 0 ? void 0 : res.body;\n        let data = {\n          nationalId: body === null || body === void 0 ? void 0 : body.nationalId,\n          name: body === null || body === void 0 ? void 0 : body.name,\n          codeLicense: body === null || body === void 0 ? void 0 : body.codeLicense,\n          typeLicense: body === null || body === void 0 ? void 0 : body.typeLicense,\n          address: body === null || body === void 0 ? void 0 : body.address,\n          dob: Utils.formatDateShow(body === null || body === void 0 ? void 0 : body.dob),\n          seniority: body === null || body === void 0 ? void 0 : body.seniority,\n          image: body === null || body === void 0 ? void 0 : body.image\n        };\n        setFormValues(data);\n        setImageDriver(data.image);\n      }\n    });\n  }, []);\n\n  const handleEditButton = () => {\n    if (isEditing) {\n      let url = AppURL.updateDriver + '/' + id;\n      instance.put(url, { ...formValues,\n        seniority: parseInt(formValues.seniority),\n        salaryId: 1,\n        dob: Utils.formatDateShow(formValues.dob),\n        image: imageDrvier\n      }).then(res => {\n        toast.success(res === null || res === void 0 ? void 0 : res.msg);\n        history.goBack();\n      }).catch(error => {\n        toast.error(error === null || error === void 0 ? void 0 : error.msg);\n      });\n    }\n\n    setIsEditing(!isEditing);\n  };\n\n  const handleInputChange = e => {\n    if (e.target.name === 'image') {\n      setImageDriver(\"../\" + e.target.files[0].name);\n    }\n\n    const {\n      name,\n      value\n    } = e.target;\n    setFormValues({ ...formValues,\n      image: \"../Duong-Tuan-Anh1.jpg\",\n      [name]: value\n    });\n  };\n\n  const [imageDrvier, setImageDriver] = useState(\"\");\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: formValues ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(PageTitle, {\n        title: \"Driver Details\",\n        buttonBack: /*#__PURE__*/_jsxDEV(MUIButton, {\n          variant: \"contained\",\n          size: \"medium\",\n          color: \"secondary\",\n          onClick: () => history.goBack(),\n          children: \"Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }, this),\n        button: /*#__PURE__*/_jsxDEV(MUIButton, {\n          variant: \"contained\",\n          size: \"medium\",\n          color: \"primary\",\n          onClick: handleEditButton,\n          children: isEditing ? 'Save' : 'Edit'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 4,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          children: /*#__PURE__*/_jsxDEV(Widget, {\n            disableWidgetMenu: true,\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              item: true,\n              xs: 12,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"MuiFormControl-root MuiTextField-root makeStyles-input-60\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: imageDrvier,\n                    variant: \"outlined\",\n                    id: \"image\",\n                    width: \"200\",\n                    height: \"120\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 113,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"nationalId\",\n                  name: \"nationalId\",\n                  label: \"National ID\",\n                  type: \"text\",\n                  className: classes.input,\n                  value: formValues === null || formValues === void 0 ? void 0 : formValues.nationalId,\n                  onChange: handleInputChange,\n                  type: \"variant\",\n                  variant: \"outlined\",\n                  disabled: !isEditing,\n                  style: {\n                    marginTop: `30px`\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 118,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"name\",\n                  name: \"name\",\n                  label: \"Name\",\n                  type: \"text\",\n                  className: classes.input,\n                  value: formValues === null || formValues === void 0 ? void 0 : formValues.name,\n                  onChange: handleInputChange,\n                  type: \"variant\",\n                  variant: \"outlined\",\n                  disabled: !isEditing\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 131,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"codeLicense\",\n                  name: \"codeLicense\",\n                  label: \"Code License\",\n                  type: \"text\",\n                  className: classes.input,\n                  value: formValues === null || formValues === void 0 ? void 0 : formValues.codeLicense,\n                  onChange: handleInputChange,\n                  type: \"variant\",\n                  variant: \"outlined\",\n                  disabled: !isEditing\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 6,\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"typeLicense\",\n                  name: \"typeLicense\",\n                  label: \"Type License\",\n                  type: \"text\",\n                  className: classes.input,\n                  value: formValues.typeLicense,\n                  onChange: handleInputChange,\n                  type: \"variant\",\n                  variant: \"outlined\",\n                  disabled: !isEditing\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"address\",\n                  name: \"address\",\n                  label: \"Address\",\n                  type: \"text\",\n                  className: classes.input,\n                  value: formValues === null || formValues === void 0 ? void 0 : formValues.address,\n                  onChange: handleInputChange,\n                  type: \"variant\",\n                  variant: \"outlined\",\n                  disabled: !isEditing\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"dob\",\n                  label: \"Date of Birth\",\n                  type: \"date\",\n                  value: Utils.formatDateShow(formValues === null || formValues === void 0 ? void 0 : formValues.dob),\n                  onChange: handleInputChange,\n                  sx: {\n                    width: 220\n                  },\n                  InputLabelProps: {\n                    shrink: true\n                  },\n                  name: \"dob\",\n                  className: classes.input,\n                  variant: \"outlined\",\n                  disabled: !isEditing\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"seniority\",\n                  name: \"seniority\",\n                  label: \"Seniority\",\n                  type: \"text\",\n                  className: classes.input,\n                  value: formValues === null || formValues === void 0 ? void 0 : formValues.seniority,\n                  onChange: handleInputChange,\n                  type: \"variant\",\n                  variant: \"outlined\",\n                  disabled: !isEditing\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(CircularProgress, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 15\n    }, this)\n  }, void 0, false);\n}\n\n_s(DriverDetail, \"l5LC613je6J1c7C/WRKldWyCvJQ=\", false, function () {\n  return [useHistory, useStyles, useParams];\n});\n\n_c = DriverDetail;\nexport default DriverDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"DriverDetail\");","map":{"version":3,"sources":["G:/Learning/ltw/SbTickets_FE/src/pages/Drivers/DriverDetail.js"],"names":["React","useState","useEffect","Grid","TextField","CircularProgress","Button","MUIButton","Widget","PageTitle","Typography","makeStyles","withStyles","instance","useParams","AppURL","useHistory","toast","Utils","useStyles","theme","input","width","fontSize","marginBottom","DriverDetail","history","classes","id","formValues","setFormValues","isEditing","setIsEditing","url","getDriver","get","then","res","status","body","data","nationalId","name","codeLicense","typeLicense","address","dob","formatDateShow","seniority","image","setImageDriver","handleEditButton","updateDriver","put","parseInt","salaryId","imageDrvier","success","msg","goBack","catch","error","handleInputChange","e","target","files","value","marginTop","shrink"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Grid, TextField, CircularProgress, Button as MUIButton } from \"@material-ui/core\";\r\nimport Widget from \"../../components/Widget/Widget\";\r\nimport PageTitle from \"../../components/PageTitle/PageTitle\";\r\nimport { Typography, Button } from \"../../components/Wrappers/Wrappers\";\r\nimport { makeStyles, withStyles } from '@material-ui/core/styles';\r\nimport instance from '../../services';\r\nimport { useParams } from 'react-router-dom';\r\nimport * as AppURL from '../../services/urlAPI';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport * as Utils from \"../../utils\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input: {\r\n    width: '80%',\r\n    fontSize: '14px !important',\r\n    marginBottom: '30px'\r\n  },\r\n}));\r\n\r\nfunction DriverDetail() {\r\n  let history = useHistory();\r\n  const classes = useStyles();\r\n  const { id } = useParams();\r\n  const [formValues, setFormValues] = useState(null);\r\n  const [isEditing, setIsEditing] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let url = AppURL.getDriver + '/' + id;\r\n    instance.get(url)\r\n      .then(res => {\r\n        if (res?.status === 200) {\r\n          const body = res?.body;\r\n          let data = {\r\n            nationalId: body?.nationalId,\r\n            name: body?.name,\r\n            codeLicense: body?.codeLicense,\r\n            typeLicense: body?.typeLicense,\r\n            address: body?.address,\r\n            dob: Utils.formatDateShow(body?.dob),\r\n            seniority: body?.seniority,\r\n            image: body?.image,\r\n          };\r\n          setFormValues(data);\r\n          setImageDriver(data.image);\r\n        }\r\n\r\n      })\r\n  }, []);\r\n\r\n  const handleEditButton = () => {\r\n    if (isEditing) {\r\n      let url = AppURL.updateDriver + '/' + id;\r\n      instance.put(url, {\r\n        ...formValues,\r\n        seniority: parseInt(formValues.seniority),\r\n        salaryId: 1,\r\n        dob: Utils.formatDateShow(formValues.dob),\r\n        image: imageDrvier\r\n      }).then(res => {\r\n        toast.success(res?.msg);\r\n        history.goBack();\r\n      }).catch(error => {\r\n        toast.error(error?.msg);\r\n      })\r\n    }\r\n    setIsEditing(!isEditing);\r\n  }\r\n\r\n  const handleInputChange = (e) => {\r\n    if(e.target.name === 'image'){\r\n      setImageDriver(\"../\" + e.target.files[0].name);\r\n    }\r\n    const { name, value }  = e.target;\r\n    setFormValues({\r\n      ...formValues,\r\n      image: \"../Duong-Tuan-Anh1.jpg\",\r\n      [name]: value,\r\n    });\r\n  };\r\n\r\n  const [imageDrvier, setImageDriver] = useState(\"\");\r\n\r\n  return (\r\n    <>\r\n      {\r\n        formValues ? <>\r\n          <PageTitle\r\n            title=\"Driver Details\"\r\n            buttonBack={<MUIButton\r\n              variant=\"contained\"\r\n              size=\"medium\"\r\n              color=\"secondary\"\r\n              onClick={() => history.goBack()}\r\n            >\r\n              Back\r\n            </MUIButton>}\r\n            button={<MUIButton\r\n              variant=\"contained\"\r\n              size=\"medium\"\r\n              color=\"primary\"\r\n              onClick={handleEditButton}\r\n            >\r\n              {isEditing ? 'Save' : 'Edit'}\r\n            </MUIButton>} />\r\n          <Grid container spacing={4}>\r\n            <Grid item xs={12}>\r\n              <Widget disableWidgetMenu>\r\n                <Grid container item xs={12}>\r\n                  <Grid item xs={6}>\r\n                      <div className=\"MuiFormControl-root MuiTextField-root makeStyles-input-60\">\r\n                        <img src={imageDrvier}\r\n                            variant=\"outlined\"\r\n                            id=\"image\" \r\n                            width=\"200\" height=\"120\" />\r\n                      </div>\r\n                    <TextField\r\n                      id=\"nationalId\"\r\n                      name=\"nationalId\"\r\n                      label=\"National ID\"\r\n                      type=\"text\"\r\n                      className={classes.input}\r\n                      value={formValues?.nationalId}\r\n                      onChange={handleInputChange}\r\n                      type=\"variant\"\r\n                      variant=\"outlined\"\r\n                      disabled={!isEditing}\r\n                      style={{marginTop: `30px`}}\r\n                    />\r\n                    <TextField\r\n                      id=\"name\"\r\n                      name=\"name\"\r\n                      label=\"Name\"\r\n                      type=\"text\"\r\n                      className={classes.input}\r\n                      value={formValues?.name}\r\n                      onChange={handleInputChange}\r\n                      type=\"variant\"\r\n                      variant=\"outlined\"\r\n                      disabled={!isEditing}\r\n                    />\r\n                    <TextField\r\n                      id=\"codeLicense\"\r\n                      name=\"codeLicense\"\r\n                      label=\"Code License\"\r\n                      type=\"text\"\r\n                      className={classes.input}\r\n                      value={formValues?.codeLicense}\r\n                      onChange={handleInputChange}\r\n                      type=\"variant\"\r\n                      variant=\"outlined\"\r\n                      disabled={!isEditing}\r\n                    />\r\n                    \r\n                  </Grid>\r\n                  <Grid item xs={6}>\r\n                  <TextField\r\n                      id=\"typeLicense\"\r\n                      name=\"typeLicense\"\r\n                      label=\"Type License\"\r\n                      type=\"text\"\r\n                      className={classes.input}\r\n                      value={formValues.typeLicense}\r\n                      onChange={handleInputChange}\r\n                      type=\"variant\"\r\n                      variant=\"outlined\"\r\n                      disabled={!isEditing}\r\n                    />\r\n                    <TextField\r\n                      id=\"address\"\r\n                      name=\"address\"\r\n                      label=\"Address\"\r\n                      type=\"text\"\r\n                      className={classes.input}\r\n                      value={formValues?.address}\r\n                      onChange={handleInputChange}\r\n                      type=\"variant\"\r\n                      variant=\"outlined\"\r\n                      disabled={!isEditing}\r\n                    />\r\n                    <TextField\r\n                      id=\"dob\"\r\n                      label=\"Date of Birth\"\r\n                      type=\"date\"\r\n                      value={Utils.formatDateShow(formValues?.dob)}\r\n                      onChange={handleInputChange}\r\n                      sx={{ width: 220 }}\r\n                      InputLabelProps={{\r\n                        shrink: true,\r\n                      }}\r\n                      name=\"dob\"\r\n                      className={classes.input}\r\n                      variant=\"outlined\"\r\n                      disabled={!isEditing}\r\n                    />\r\n                    <TextField\r\n                      id=\"seniority\"\r\n                      name=\"seniority\"\r\n                      label=\"Seniority\"\r\n                      type=\"text\"\r\n                      className={classes.input}\r\n                      value={formValues?.seniority}\r\n                      onChange={handleInputChange}\r\n                      type=\"variant\"\r\n                      variant=\"outlined\"\r\n                      disabled={!isEditing}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n              </Widget>\r\n            </Grid>\r\n          </Grid>\r\n        </> : <CircularProgress />\r\n      }\r\n\r\n    </>\r\n  )\r\n}\r\n\r\nexport default DriverDetail\r\n"]},"metadata":{},"sourceType":"module"}